import React, { FormEvent, useState } from 'react';

import './styles.css';
import { Button, Grid, Typography } from '@material-ui/core';
import api from '../../Service/api';

export interface Product {
  id: string;
  name: string;
  price: number;
}
interface ProductItemProps {
  product: Product;
  order: number;
}

const ProductItem: React.FC<ProductItemProps> = ({ product, order }) => {
  function addProductToOrder(e: FormEvent) {
    e.preventDefault();
    var orderId = order;
    var productId = parseInt(product.id);

    console.log(orderId);
    console.log(productId);

    api
      .post('Request', {
        orderId,
        productId,
      })
      .then(() => {
        alert('Produto inserido na comanda');
      })
      .catch(function (error) {
        if (error.response) {
          console.log(error.response.data);
          alert(error.response.data);
        } else {
          alert(error.message);
        }
      });
  }

  return (
    <div id='product-item'>
      <Grid container direction='column' justify='center' alignItems='stretch'>
        <img
          src='data:image/jpeg;base64,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'
          alt=''
        />
        <Typography className='price-label' variant='h6' color='inherit'>
          {product.name}
        </Typography>
        <Typography className='price-label' variant='h6' color='inherit'>
          Preço R$ {product.price},00
        </Typography>
        <Button onClick={addProductToOrder} variant='contained' color='primary'>
          Adicionar
        </Button>
      </Grid>
    </div>
  );
};

export default ProductItem;
